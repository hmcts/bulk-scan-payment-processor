server:
  port: 8583

management:
  endpoint:
    health:
      show-details: "always"
  endpoints:
    web:
      base-path: "/"
      exposure:
        include: health, info, prometheus
  security:
    enabled: false

# liveness alert settings depend on application name, if it is changed alert configuration must also be adjusted
# https://github.com/hmcts/bulk-scan-shared-infrastructure/blob/master/liveness-alert.tf
spring:
  application:
    name: Bulk Scan Payment Processor
  main:
    # without this, Spring can't properly resolve feign clients when IDAM and CCD clients are both included
    # TODO: remove when possible
    allow-bean-definition-overriding: true

site-mappings:
  sites:
    - poBox: 12625 # probate
      siteId: ${SITE_ID_PROBATE}
    - poBox: 12706 # divorce
      siteId: ${SITE_ID_DIVORCE}
    - poBox: 12746 # finrem
      siteId: ${SITE_ID_FINREM}

azure:
  servicebus:
    payments:
      connection-string: ${PAYMENTS_QUEUE_READ_CONNECTION_STRING}
      queue-name: payments
      max-delivery-count: ${PAYMENTS_QUEUE_MAX_DELIVERY_COUNT}

pay-hub:
  api:
    url: ${PAY_HUB_URL}

idam:
  s2s-auth:
    url: ${S2S_URL:http://localhost:4552}
    secret: ${S2S_SECRET:AAAAAAAAAAAAAAAA}
    name: ${S2S_NAME:bulk_scan_payment_processor}
  api:
    url: ${IDAM_API_URL}
  client:
    id: 'bsp'
    secret: ${IDAM_CLIENT_SECRET}
    redirect_uri: ${IDAM_CLIENT_REDIRECT_URI}

core_case_data:
  api:
    url: ${CORE_CASE_DATA_API_URL}

scheduling:
  task:
    consume-payments-queue:
      time-interval-ms: 1000
